<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.linkwee.web.dao.CimProductMapper">
	<!-- Result Map-->
	<resultMap  type="com.linkwee.web.model.CimProduct" id="BaseResultMap">
		<result column="id" property="id" jdbcType="INTEGER"/>
		<result column="product_name" property="productName" jdbcType="VARCHAR"/>
		<result column="product_desc" property="productDesc" jdbcType="VARCHAR"/>
		<result column="product_type" property="productType" jdbcType="INTEGER"/>
		<result column="repayment_way" property="repaymentWay" jdbcType="INTEGER"/>
		<result column="sale_start_time" property="saleStartTime" jdbcType="TIMESTAMP"/>
		<result column="sale_end_time" property="saleEndTime" jdbcType="TIMESTAMP"/>
		<result column="is_flow" property="isFlow" jdbcType="INTEGER"/>
		<result column="flow_min_rate" property="flowMinRate" jdbcType="DECIMAL"/>
		<result column="flow_max_rate" property="flowMaxRate" jdbcType="DECIMAL"/>
		<result column="add_rate" property="addRate" jdbcType="DECIMAL"/>
		<result column="platform_cashback" property="platformCashback" jdbcType="DECIMAL"/>
		<result column="is_fixed_deadline" property="isFixedDeadline" jdbcType="INTEGER"/>
		<result column="dead_line_min_value" property="deadLineMinValue" jdbcType="INTEGER"/>
		<result column="dead_line_max_value" property="deadLineMaxValue" jdbcType="INTEGER"/>
		<result column="dead_line_min_self_defined" property="deadLineMinSelfDefined" jdbcType="VARCHAR"/>
		<result column="dead_line_max_self_defined" property="deadLineMaxSelfDefined" jdbcType="VARCHAR"/>
		<result column="is_collect" property="isCollect" jdbcType="INTEGER"/>
		<result column="collect_begin_time" property="collectBeginTime" jdbcType="TIMESTAMP"/>
		<result column="collect_end_time" property="collectEndTime" jdbcType="TIMESTAMP"/>
		<result column="interest_way" property="interestWay" jdbcType="INTEGER"/>
		<result column="valid_begin_date" property="validBeginDate" jdbcType="TIMESTAMP"/>
		<result column="valid_end_date" property="validEndDate" jdbcType="TIMESTAMP"/>
		<result column="buy_min_money" property="buyMinMoney" jdbcType="DECIMAL"/>
		<result column="buy_max_money" property="buyMaxMoney" jdbcType="DECIMAL"/>
		<result column="buy_total_money" property="buyTotalMoney" jdbcType="DECIMAL"/>
		<result column="show_index" property="showIndex" jdbcType="INTEGER"/>
		<result column="is_have_progress" property="isHaveProgress" jdbcType="INTEGER"/>
		<result column="is_redemption" property="isRedemption" jdbcType="INTEGER"/>
		<result column="redemption_time" property="redemptionTime" jdbcType="INTEGER"/>
		<result column="assignment_time" property="assignmentTime" jdbcType="INTEGER"/>
		<result column="money_type" property="moneyType" jdbcType="INTEGER"/>
		<result column="risk_control_type" property="riskControlType" jdbcType="INTEGER"/>
		<result column="risk_level" property="riskLevel" jdbcType="INTEGER"/>
		<result column="status" property="status" jdbcType="INTEGER"/>
		<result column="creator" property="creator" jdbcType="VARCHAR"/>
		<result column="create_time" property="createTime" jdbcType="TIMESTAMP"/>
		<result column="updater" property="updater" jdbcType="VARCHAR"/>
		<result column="update_time" property="updateTime" jdbcType="TIMESTAMP"/>
		<result column="remark" property="remark" jdbcType="VARCHAR"/>
		<result column="product_id" property="productId" jdbcType="VARCHAR"/>
		<result column="org_number" property="orgNumber" jdbcType="VARCHAR"/>
		<result column="third_product_id" property="thirdProductId" jdbcType="VARCHAR"/>
		<result column="is_quota" property="isQuota" jdbcType="INTEGER"/>
		<result column="detail_open_url" property="detailOpenUrl" jdbcType="VARCHAR"/>
		<result column="detail_open_type" property="detailOpenType" jdbcType="INTEGER"/>
		<result column="buy_increase_money" property="buyIncreaseMoney" jdbcType="DECIMAL"/>
		<result column="fee_ratio" property="feeRatio" jdbcType="DECIMAL"/>
		<result column="audit_status" property="auditStatus" jdbcType="INTEGER"/>
		<result column="audit_time" property="auditTime" jdbcType="TIMESTAMP"/>
		<result column="source_way" property="sourceWay" jdbcType="INTEGER"/>
	</resultMap>
	
  <sql id="Base_Column_List">
    <trim suffixOverrides=",">
	    	id,
	    	product_name,
	    	product_desc,
	    	product_type,
	    	repayment_way,
	    	sale_start_time,
	    	sale_end_time,
	    	is_flow,
	    	flow_min_rate,
	    	flow_max_rate,
	    	add_rate,
	    	platform_cashback,
	    	is_fixed_deadline,
	    	dead_line_min_value,
	    	dead_line_max_value,
	    	dead_line_min_self_defined,
	    	dead_line_max_self_defined,
	    	is_collect,
	    	collect_begin_time,
	    	collect_end_time,
	    	interest_way,
	    	valid_begin_date,
	    	valid_end_date,
	    	buy_min_money,
	    	buy_max_money,
	    	buy_total_money,
	    	show_index,
	    	is_have_progress,
	    	is_redemption,
	    	redemption_time,
	    	assignment_time,
	    	money_type,
	    	risk_control_type,
	    	risk_level,
	    	status,
	    	creator,
	    	create_time,
	    	updater,
	    	update_time,
	    	remark,
	    	product_id,
	    	org_number,
	    	third_product_id,
	    	is_quota,
	    	detail_open_url,
	    	detail_open_type,
	    	buy_increase_money,
	    	fee_ratio,
	    	audit_status,
	    	audit_time,
	    	source_way,
    </trim>
  </sql>
  
  <sql id="Base_Column_List_T">
    <trim suffixOverrides=",">
	    	t.id,
	    	t.product_name,
	    	t.product_desc,
	    	t.product_type,
	    	t.repayment_way,
	    	t.sale_start_time,
	    	t.sale_end_time,
	    	t.is_flow,
	    	t.flow_min_rate,
	    	t.flow_max_rate,
	    	t.add_rate,
	    	t.platform_cashback,
	    	t.is_fixed_deadline,
	    	t.dead_line_min_value,
	    	t.dead_line_max_value,
	    	t.dead_line_min_self_defined,
	    	t.dead_line_max_self_defined,
	    	t.is_collect,
	    	t.collect_begin_time,
	    	t.collect_end_time,
	    	t.interest_way,
	    	t.valid_begin_date,
	    	t.valid_end_date,
	    	t.buy_min_money,
	    	t.buy_max_money,
	    	t.buy_total_money,
	    	t.show_index,
	    	t.is_have_progress,
	    	t.is_redemption,
	    	t.redemption_time,
	    	t.assignment_time,
	    	t.money_type,
	    	t.risk_control_type,
	    	t.risk_level,
	    	t.status,
	    	t.creator,
	    	t.create_time,
	    	t.updater,
	    	t.update_time,
	    	t.remark,
	    	t.product_id,
	    	t.org_number,
	    	t.third_product_id,
	    	t.is_quota,
	    	t.detail_open_url,
	    	t.detail_open_type,
	    	t.buy_increase_money,
	    	t.fee_ratio,
	    	t.audit_status,
	    	t.audit_time,
	    	t.source_way,
    </trim>
  </sql>
  
  <sql id="Base_Condition">
		<if test=" null != id ">
			and id = #{id}
		</if>
		<if test=" null != productName and ''!= productName  ">
			and product_name = #{productName}
		</if>
		<if test=" null != productDesc and ''!= productDesc  ">
			and product_desc = #{productDesc}
		</if>
		<if test=" null != productType ">
			and product_type = #{productType}
		</if>
		<if test=" null != repaymentWay ">
			and repayment_way = #{repaymentWay}
		</if>
		<if test=" null != saleStartTime ">
			and sale_start_time = #{saleStartTime}
		</if>
		<if test=" null != saleEndTime ">
			and sale_end_time = #{saleEndTime}
		</if>
		<if test=" null != isFlow ">
			and is_flow = #{isFlow}
		</if>
		<if test=" null != flowMinRate ">
			and flow_min_rate = #{flowMinRate}
		</if>
		<if test=" null != flowMaxRate ">
			and flow_max_rate = #{flowMaxRate}
		</if>
		<if test=" null != addRate ">
			and add_rate = #{addRate}
		</if>
		<if test=" null != platformCashback ">
			and platform_cashback = #{platformCashback}
		</if>
		<if test=" null != isFixedDeadline ">
			and is_fixed_deadline = #{isFixedDeadline}
		</if>
		<if test=" null != deadLineMinValue ">
			and dead_line_min_value = #{deadLineMinValue}
		</if>
		<if test=" null != deadLineMaxValue ">
			and dead_line_max_value = #{deadLineMaxValue}
		</if>
		<if test=" null != deadLineMinSelfDefined and ''!= deadLineMinSelfDefined  ">
			and dead_line_min_self_defined = #{deadLineMinSelfDefined}
		</if>
		<if test=" null != deadLineMaxSelfDefined and ''!= deadLineMaxSelfDefined  ">
			and dead_line_max_self_defined = #{deadLineMaxSelfDefined}
		</if>
		<if test=" null != isCollect ">
			and is_collect = #{isCollect}
		</if>
		<if test=" null != collectBeginTime ">
			and collect_begin_time = #{collectBeginTime}
		</if>
		<if test=" null != collectEndTime ">
			and collect_end_time = #{collectEndTime}
		</if>
		<if test=" null != interestWay ">
			and interest_way = #{interestWay}
		</if>
		<if test=" null != validBeginDate ">
			and valid_begin_date = #{validBeginDate}
		</if>
		<if test=" null != validEndDate ">
			and valid_end_date = #{validEndDate}
		</if>
		<if test=" null != buyMinMoney ">
			and buy_min_money = #{buyMinMoney}
		</if>
		<if test=" null != buyMaxMoney ">
			and buy_max_money = #{buyMaxMoney}
		</if>
		<if test=" null != buyTotalMoney ">
			and buy_total_money = #{buyTotalMoney}
		</if>
		<if test=" null != showIndex ">
			and show_index = #{showIndex}
		</if>
		<if test=" null != isHaveProgress ">
			and is_have_progress = #{isHaveProgress}
		</if>
		<if test=" null != isRedemption ">
			and is_redemption = #{isRedemption}
		</if>
		<if test=" null != redemptionTime ">
			and redemption_time = #{redemptionTime}
		</if>
		<if test=" null != assignmentTime ">
			and assignment_time = #{assignmentTime}
		</if>
		<if test=" null != moneyType ">
			and money_type = #{moneyType}
		</if>
		<if test=" null != riskControlType ">
			and risk_control_type = #{riskControlType}
		</if>
		<if test=" null != riskLevel ">
			and risk_level = #{riskLevel}
		</if>
		<if test=" null != status ">
			and status = #{status}
		</if>
		<if test=" null != creator and ''!= creator  ">
			and creator = #{creator}
		</if>
		<if test=" null != createTime ">
			and create_time = #{createTime}
		</if>
		<if test=" null != updater and ''!= updater  ">
			and updater = #{updater}
		</if>
		<if test=" null != updateTime ">
			and update_time = #{updateTime}
		</if>
		<if test=" null != remark and ''!= remark  ">
			and remark = #{remark}
		</if>
		<if test=" null != productId and ''!= productId  ">
			and product_id = #{productId}
		</if>
		<if test=" null != orgNumber and ''!= orgNumber  ">
			and org_number = #{orgNumber}
		</if>
		<if test=" null != thirdProductId and ''!= thirdProductId  ">
			and third_product_id = #{thirdProductId}
		</if>
		<if test=" null != isQuota ">
			and is_quota = #{isQuota}
		</if>
		<if test=" null != detailOpenUrl and ''!= detailOpenUrl  ">
			and detail_open_url = #{detailOpenUrl}
		</if>
		<if test=" null != detailOpenType ">
			and detail_open_type = #{detailOpenType}
		</if>
		<if test=" null != buyIncreaseMoney ">
			and buy_increase_money = #{buyIncreaseMoney}
		</if>
		<if test=" null != feeRatio ">
			and fee_ratio = #{feeRatio}
		</if>
		<if test=" null != auditStatus ">
			and audit_status = #{auditStatus}
		</if>
		<if test=" null != auditTime ">
			and audit_time = #{auditTime}
		</if>
		<if test=" null != sourceWay ">
			and source_way = #{sourceWay}
		</if>
  </sql>
  
  <select id="selectOneByCondition" resultMap="BaseResultMap"  parameterType="com.linkwee.web.model.CimProduct">
		select <include refid="Base_Column_List" /> from tcim_product 
		where 1=1 <include refid="Base_Condition" />
  </select>
  
  <select id="selectByCondition" resultMap="BaseResultMap"  parameterType="com.linkwee.web.model.CimProduct">
		select <include refid="Base_Column_List" /> from tcim_product 
		where 1=1 <include refid="Base_Condition" />
  </select>

  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    select 
    <include refid="Base_Column_List" />
    from tcim_product
    where  id = #{0}
  </select>
  
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    delete from tcim_product
    where id = #{0}
  </delete>

  <insert id="insert" parameterType="com.linkwee.web.model.CimProduct" >
    INSERT INTO tcim_product
		<trim prefix="(" suffix=")" suffixOverrides=",">
			 	<if test=" null != id ">
					id,
				</if>
			 	<if test=" null != productName and ''!= productName  ">
					product_name,
				</if>
			 	<if test=" null != productDesc and ''!= productDesc  ">
					product_desc,
				</if>
			 	<if test=" null != productType ">
					product_type,
				</if>
			 	<if test=" null != repaymentWay ">
					repayment_way,
				</if>
			 	<if test=" null != saleStartTime ">
					sale_start_time,
				</if>
			 	<if test=" null != saleEndTime ">
					sale_end_time,
				</if>
			 	<if test=" null != isFlow ">
					is_flow,
				</if>
			 	<if test=" null != flowMinRate ">
					flow_min_rate,
				</if>
			 	<if test=" null != flowMaxRate ">
					flow_max_rate,
				</if>
			 	<if test=" null != addRate ">
					add_rate,
				</if>
			 	<if test=" null != platformCashback ">
					platform_cashback,
				</if>
			 	<if test=" null != isFixedDeadline ">
					is_fixed_deadline,
				</if>
			 	<if test=" null != deadLineMinValue ">
					dead_line_min_value,
				</if>
			 	<if test=" null != deadLineMaxValue ">
					dead_line_max_value,
				</if>
			 	<if test=" null != deadLineMinSelfDefined and ''!= deadLineMinSelfDefined  ">
					dead_line_min_self_defined,
				</if>
			 	<if test=" null != deadLineMaxSelfDefined and ''!= deadLineMaxSelfDefined  ">
					dead_line_max_self_defined,
				</if>
			 	<if test=" null != isCollect ">
					is_collect,
				</if>
			 	<if test=" null != collectBeginTime ">
					collect_begin_time,
				</if>
			 	<if test=" null != collectEndTime ">
					collect_end_time,
				</if>
			 	<if test=" null != interestWay ">
					interest_way,
				</if>
			 	<if test=" null != validBeginDate ">
					valid_begin_date,
				</if>
			 	<if test=" null != validEndDate ">
					valid_end_date,
				</if>
			 	<if test=" null != buyMinMoney ">
					buy_min_money,
				</if>
			 	<if test=" null != buyMaxMoney ">
					buy_max_money,
				</if>
			 	<if test=" null != buyTotalMoney ">
					buy_total_money,
				</if>
			 	<if test=" null != showIndex ">
					show_index,
				</if>
			 	<if test=" null != isHaveProgress ">
					is_have_progress,
				</if>
			 	<if test=" null != isRedemption ">
					is_redemption,
				</if>
			 	<if test=" null != redemptionTime ">
					redemption_time,
				</if>
			 	<if test=" null != assignmentTime ">
					assignment_time,
				</if>
			 	<if test=" null != moneyType ">
					money_type,
				</if>
			 	<if test=" null != riskControlType ">
					risk_control_type,
				</if>
			 	<if test=" null != riskLevel ">
					risk_level,
				</if>
			 	<if test=" null != status ">
					status,
				</if>
			 	<if test=" null != creator and ''!= creator  ">
					creator,
				</if>
			 	<if test=" null != createTime ">
					create_time,
				</if>
			 	<if test=" null != updater and ''!= updater  ">
					updater,
				</if>
			 	<if test=" null != updateTime ">
					update_time,
				</if>
			 	<if test=" null != remark and ''!= remark  ">
					remark,
				</if>
			 	<if test=" null != productId and ''!= productId  ">
					product_id,
				</if>
			 	<if test=" null != orgNumber and ''!= orgNumber  ">
					org_number,
				</if>
			 	<if test=" null != thirdProductId and ''!= thirdProductId  ">
					third_product_id,
				</if>
			 	<if test=" null != isQuota ">
					is_quota,
				</if>
			 	<if test=" null != detailOpenUrl and ''!= detailOpenUrl  ">
					detail_open_url,
				</if>
			 	<if test=" null != detailOpenType ">
					detail_open_type,
				</if>
			 	<if test=" null != buyIncreaseMoney ">
					buy_increase_money,
				</if>
			 	<if test=" null != feeRatio ">
					fee_ratio,
				</if>
			 	<if test=" null != auditStatus ">
					audit_status,
				</if>
			 	<if test=" null != auditTime ">
					audit_time,
				</if>
			 	<if test=" null != sourceWay ">
					source_way,
				</if>
		</trim>
		<trim prefix="VALUES(" suffix=")" suffixOverrides=",">
			 	<if test=" null != id ">
					 	#{id},
				</if>
			 	<if test=" null != productName and ''!= productName  ">
					 	#{productName},
				</if>
			 	<if test=" null != productDesc and ''!= productDesc  ">
					 	#{productDesc},
				</if>
			 	<if test=" null != productType ">
					 	#{productType},
				</if>
			 	<if test=" null != repaymentWay ">
					 	#{repaymentWay},
				</if>
			 	<if test=" null != saleStartTime ">
					 	#{saleStartTime},
				</if>
			 	<if test=" null != saleEndTime ">
					 	#{saleEndTime},
				</if>
			 	<if test=" null != isFlow ">
					 	#{isFlow},
				</if>
			 	<if test=" null != flowMinRate ">
					 	#{flowMinRate},
				</if>
			 	<if test=" null != flowMaxRate ">
					 	#{flowMaxRate},
				</if>
			 	<if test=" null != addRate ">
					 	#{addRate},
				</if>
			 	<if test=" null != platformCashback ">
					 	#{platformCashback},
				</if>
			 	<if test=" null != isFixedDeadline ">
					 	#{isFixedDeadline},
				</if>
			 	<if test=" null != deadLineMinValue ">
					 	#{deadLineMinValue},
				</if>
			 	<if test=" null != deadLineMaxValue ">
					 	#{deadLineMaxValue},
				</if>
			 	<if test=" null != deadLineMinSelfDefined and ''!= deadLineMinSelfDefined  ">
					 	#{deadLineMinSelfDefined},
				</if>
			 	<if test=" null != deadLineMaxSelfDefined and ''!= deadLineMaxSelfDefined  ">
					 	#{deadLineMaxSelfDefined},
				</if>
			 	<if test=" null != isCollect ">
					 	#{isCollect},
				</if>
			 	<if test=" null != collectBeginTime ">
					 	#{collectBeginTime},
				</if>
			 	<if test=" null != collectEndTime ">
					 	#{collectEndTime},
				</if>
			 	<if test=" null != interestWay ">
					 	#{interestWay},
				</if>
			 	<if test=" null != validBeginDate ">
					 	#{validBeginDate},
				</if>
			 	<if test=" null != validEndDate ">
					 	#{validEndDate},
				</if>
			 	<if test=" null != buyMinMoney ">
					 	#{buyMinMoney},
				</if>
			 	<if test=" null != buyMaxMoney ">
					 	#{buyMaxMoney},
				</if>
			 	<if test=" null != buyTotalMoney ">
					 	#{buyTotalMoney},
				</if>
			 	<if test=" null != showIndex ">
					 	#{showIndex},
				</if>
			 	<if test=" null != isHaveProgress ">
					 	#{isHaveProgress},
				</if>
			 	<if test=" null != isRedemption ">
					 	#{isRedemption},
				</if>
			 	<if test=" null != redemptionTime ">
					 	#{redemptionTime},
				</if>
			 	<if test=" null != assignmentTime ">
					 	#{assignmentTime},
				</if>
			 	<if test=" null != moneyType ">
					 	#{moneyType},
				</if>
			 	<if test=" null != riskControlType ">
					 	#{riskControlType},
				</if>
			 	<if test=" null != riskLevel ">
					 	#{riskLevel},
				</if>
			 	<if test=" null != status ">
					 	#{status},
				</if>
			 	<if test=" null != creator and ''!= creator  ">
					 	#{creator},
				</if>
			 	<if test=" null != createTime ">
					 	#{createTime},
				</if>
			 	<if test=" null != updater and ''!= updater  ">
					 	#{updater},
				</if>
			 	<if test=" null != updateTime ">
					 	#{updateTime},
				</if>
			 	<if test=" null != remark and ''!= remark  ">
					 	#{remark},
				</if>
			 	<if test=" null != productId and ''!= productId  ">
					 	#{productId},
				</if>
			 	<if test=" null != orgNumber and ''!= orgNumber  ">
					 	#{orgNumber},
				</if>
			 	<if test=" null != thirdProductId and ''!= thirdProductId  ">
					 	#{thirdProductId},
				</if>
			 	<if test=" null != isQuota ">
					 	#{isQuota},
				</if>
			 	<if test=" null != detailOpenUrl and ''!= detailOpenUrl  ">
					 	#{detailOpenUrl},
				</if>
			 	<if test=" null != detailOpenType ">
					 	#{detailOpenType},
				</if>
			 	<if test=" null != buyIncreaseMoney ">
					 	#{buyIncreaseMoney},
				</if>
			 	<if test=" null != feeRatio ">
					 	#{feeRatio},
				</if>
			 	<if test=" null != auditStatus ">
					 	#{auditStatus},
				</if>
			 	<if test=" null != auditTime ">
					 	#{auditTime},
				</if>
			 	<if test=" null != sourceWay ">
					 	#{sourceWay},
				</if>
		</trim>
  </insert>
  
  <insert id="insertSelective" parameterType="com.linkwee.web.model.CimProduct" useGeneratedKeys="true" keyProperty="id" >
		INSERT INTO tcim_product
		<trim prefix="(" suffix=")" suffixOverrides=",">
			 	<if test=" null != id ">
					id,
				</if>
			 	<if test=" null != productName and ''!= productName  ">
					product_name,
				</if>
			 	<if test=" null != productDesc and ''!= productDesc  ">
					product_desc,
				</if>
			 	<if test=" null != productType ">
					product_type,
				</if>
			 	<if test=" null != repaymentWay ">
					repayment_way,
				</if>
			 	<if test=" null != saleStartTime ">
					sale_start_time,
				</if>
			 	<if test=" null != saleEndTime ">
					sale_end_time,
				</if>
			 	<if test=" null != isFlow ">
					is_flow,
				</if>
			 	<if test=" null != flowMinRate ">
					flow_min_rate,
				</if>
			 	<if test=" null != flowMaxRate ">
					flow_max_rate,
				</if>
			 	<if test=" null != addRate ">
					add_rate,
				</if>
			 	<if test=" null != platformCashback ">
					platform_cashback,
				</if>
			 	<if test=" null != isFixedDeadline ">
					is_fixed_deadline,
				</if>
			 	<if test=" null != deadLineMinValue ">
					dead_line_min_value,
				</if>
			 	<if test=" null != deadLineMaxValue ">
					dead_line_max_value,
				</if>
			 	<if test=" null != deadLineMinSelfDefined and ''!= deadLineMinSelfDefined  ">
					dead_line_min_self_defined,
				</if>
			 	<if test=" null != deadLineMaxSelfDefined and ''!= deadLineMaxSelfDefined  ">
					dead_line_max_self_defined,
				</if>
			 	<if test=" null != isCollect ">
					is_collect,
				</if>
			 	<if test=" null != collectBeginTime ">
					collect_begin_time,
				</if>
			 	<if test=" null != collectEndTime ">
					collect_end_time,
				</if>
			 	<if test=" null != interestWay ">
					interest_way,
				</if>
			 	<if test=" null != validBeginDate ">
					valid_begin_date,
				</if>
			 	<if test=" null != validEndDate ">
					valid_end_date,
				</if>
			 	<if test=" null != buyMinMoney ">
					buy_min_money,
				</if>
			 	<if test=" null != buyMaxMoney ">
					buy_max_money,
				</if>
			 	<if test=" null != buyTotalMoney ">
					buy_total_money,
				</if>
			 	<if test=" null != showIndex ">
					show_index,
				</if>
			 	<if test=" null != isHaveProgress ">
					is_have_progress,
				</if>
			 	<if test=" null != isRedemption ">
					is_redemption,
				</if>
			 	<if test=" null != redemptionTime ">
					redemption_time,
				</if>
			 	<if test=" null != assignmentTime ">
					assignment_time,
				</if>
			 	<if test=" null != moneyType ">
					money_type,
				</if>
			 	<if test=" null != riskControlType ">
					risk_control_type,
				</if>
			 	<if test=" null != riskLevel ">
					risk_level,
				</if>
			 	<if test=" null != status ">
					status,
				</if>
			 	<if test=" null != creator and ''!= creator  ">
					creator,
				</if>
			 	<if test=" null != createTime ">
					create_time,
				</if>
			 	<if test=" null != updater and ''!= updater  ">
					updater,
				</if>
			 	<if test=" null != updateTime ">
					update_time,
				</if>
			 	<if test=" null != remark and ''!= remark  ">
					remark,
				</if>
			 	<if test=" null != productId and ''!= productId  ">
					product_id,
				</if>
			 	<if test=" null != orgNumber and ''!= orgNumber  ">
					org_number,
				</if>
			 	<if test=" null != thirdProductId and ''!= thirdProductId  ">
					third_product_id,
				</if>
			 	<if test=" null != isQuota ">
					is_quota,
				</if>
			 	<if test=" null != detailOpenUrl and ''!= detailOpenUrl  ">
					detail_open_url,
				</if>
			 	<if test=" null != detailOpenType ">
					detail_open_type,
				</if>
			 	<if test=" null != buyIncreaseMoney ">
					buy_increase_money,
				</if>
			 	<if test=" null != feeRatio ">
					fee_ratio,
				</if>
			 	<if test=" null != auditStatus ">
					audit_status,
				</if>
			 	<if test=" null != auditTime ">
					audit_time,
				</if>
			 	<if test=" null != sourceWay ">
					source_way,
				</if>
		</trim>
		<trim prefix="VALUES(" suffix=")" suffixOverrides=",">
			 	<if test=" null != id ">
					 	#{id},
				</if>
			 	<if test=" null != productName and ''!= productName  ">
					 	#{productName},
				</if>
			 	<if test=" null != productDesc and ''!= productDesc  ">
					 	#{productDesc},
				</if>
			 	<if test=" null != productType ">
					 	#{productType},
				</if>
			 	<if test=" null != repaymentWay ">
					 	#{repaymentWay},
				</if>
			 	<if test=" null != saleStartTime ">
					 	#{saleStartTime},
				</if>
			 	<if test=" null != saleEndTime ">
					 	#{saleEndTime},
				</if>
			 	<if test=" null != isFlow ">
					 	#{isFlow},
				</if>
			 	<if test=" null != flowMinRate ">
					 	#{flowMinRate},
				</if>
			 	<if test=" null != flowMaxRate ">
					 	#{flowMaxRate},
				</if>
			 	<if test=" null != addRate ">
					 	#{addRate},
				</if>
			 	<if test=" null != platformCashback ">
					 	#{platformCashback},
				</if>
			 	<if test=" null != isFixedDeadline ">
					 	#{isFixedDeadline},
				</if>
			 	<if test=" null != deadLineMinValue ">
					 	#{deadLineMinValue},
				</if>
			 	<if test=" null != deadLineMaxValue ">
					 	#{deadLineMaxValue},
				</if>
			 	<if test=" null != deadLineMinSelfDefined and ''!= deadLineMinSelfDefined  ">
					 	#{deadLineMinSelfDefined},
				</if>
			 	<if test=" null != deadLineMaxSelfDefined and ''!= deadLineMaxSelfDefined  ">
					 	#{deadLineMaxSelfDefined},
				</if>
			 	<if test=" null != isCollect ">
					 	#{isCollect},
				</if>
			 	<if test=" null != collectBeginTime ">
					 	#{collectBeginTime},
				</if>
			 	<if test=" null != collectEndTime ">
					 	#{collectEndTime},
				</if>
			 	<if test=" null != interestWay ">
					 	#{interestWay},
				</if>
			 	<if test=" null != validBeginDate ">
					 	#{validBeginDate},
				</if>
			 	<if test=" null != validEndDate ">
					 	#{validEndDate},
				</if>
			 	<if test=" null != buyMinMoney ">
					 	#{buyMinMoney},
				</if>
			 	<if test=" null != buyMaxMoney ">
					 	#{buyMaxMoney},
				</if>
			 	<if test=" null != buyTotalMoney ">
					 	#{buyTotalMoney},
				</if>
			 	<if test=" null != showIndex ">
					 	#{showIndex},
				</if>
			 	<if test=" null != isHaveProgress ">
					 	#{isHaveProgress},
				</if>
			 	<if test=" null != isRedemption ">
					 	#{isRedemption},
				</if>
			 	<if test=" null != redemptionTime ">
					 	#{redemptionTime},
				</if>
			 	<if test=" null != assignmentTime ">
					 	#{assignmentTime},
				</if>
			 	<if test=" null != moneyType ">
					 	#{moneyType},
				</if>
			 	<if test=" null != riskControlType ">
					 	#{riskControlType},
				</if>
			 	<if test=" null != riskLevel ">
					 	#{riskLevel},
				</if>
			 	<if test=" null != status ">
					 	#{status},
				</if>
			 	<if test=" null != creator and ''!= creator  ">
					 	#{creator},
				</if>
			 	<if test=" null != createTime ">
					 	#{createTime},
				</if>
			 	<if test=" null != updater and ''!= updater  ">
					 	#{updater},
				</if>
			 	<if test=" null != updateTime ">
					 	#{updateTime},
				</if>
			 	<if test=" null != remark and ''!= remark  ">
					 	#{remark},
				</if>
			 	<if test=" null != productId and ''!= productId  ">
					 	#{productId},
				</if>
			 	<if test=" null != orgNumber and ''!= orgNumber  ">
					 	#{orgNumber},
				</if>
			 	<if test=" null != thirdProductId and ''!= thirdProductId  ">
					 	#{thirdProductId},
				</if>
			 	<if test=" null != isQuota ">
					 	#{isQuota},
				</if>
			 	<if test=" null != detailOpenUrl and ''!= detailOpenUrl  ">
					 	#{detailOpenUrl},
				</if>
			 	<if test=" null != detailOpenType ">
					 	#{detailOpenType},
				</if>
			 	<if test=" null != buyIncreaseMoney ">
					 	#{buyIncreaseMoney},
				</if>
			 	<if test=" null != feeRatio ">
					 	#{feeRatio},
				</if>
			 	<if test=" null != auditStatus ">
					 	#{auditStatus},
				</if>
			 	<if test=" null != auditTime ">
					 	#{auditTime},
				</if>
			 	<if test=" null != sourceWay ">
					 	#{sourceWay},
				</if>
		</trim>
	</insert>
  
  <update id="updateByPrimaryKeySelective" parameterType="com.linkwee.web.model.CimProduct" >
  		UPDATE tcim_product
		<set>
			<trim suffixOverrides=",">
					<if test=" null != productName and ''!= productName  ">
						product_name = #{productName},
					</if>
					<if test=" null != productDesc and ''!= productDesc  ">
						product_desc = #{productDesc},
					</if>
					<if test=" null != productType ">
						product_type = #{productType},
					</if>
					<if test=" null != repaymentWay ">
						repayment_way = #{repaymentWay},
					</if>
					<if test=" null != saleStartTime ">
						sale_start_time = #{saleStartTime},
					</if>
					<if test=" null != saleEndTime ">
						sale_end_time = #{saleEndTime},
					</if>
					<if test=" null != isFlow ">
						is_flow = #{isFlow},
					</if>
					<if test=" null != flowMinRate ">
						flow_min_rate = #{flowMinRate},
					</if>
					<if test=" null != flowMaxRate ">
						flow_max_rate = #{flowMaxRate},
					</if>
					<if test=" null != addRate ">
						add_rate = #{addRate},
					</if>
					<if test=" null != platformCashback ">
						platform_cashback = #{platformCashback},
					</if>
					<if test=" null != isFixedDeadline ">
						is_fixed_deadline = #{isFixedDeadline},
					</if>
					<if test=" null != deadLineMinValue ">
						dead_line_min_value = #{deadLineMinValue},
					</if>
					<if test=" null != deadLineMaxValue ">
						dead_line_max_value = #{deadLineMaxValue},
					</if>
					<if test=" null != deadLineMinSelfDefined and ''!= deadLineMinSelfDefined  ">
						dead_line_min_self_defined = #{deadLineMinSelfDefined},
					</if>
					<if test=" null != deadLineMaxSelfDefined and ''!= deadLineMaxSelfDefined  ">
						dead_line_max_self_defined = #{deadLineMaxSelfDefined},
					</if>
					<if test=" null != isCollect ">
						is_collect = #{isCollect},
					</if>
					<if test=" null != collectBeginTime ">
						collect_begin_time = #{collectBeginTime},
					</if>
					<if test=" null != collectEndTime ">
						collect_end_time = #{collectEndTime},
					</if>
					<if test=" null != interestWay ">
						interest_way = #{interestWay},
					</if>
					<if test=" null != validBeginDate ">
						valid_begin_date = #{validBeginDate},
					</if>
					<if test=" null != validEndDate ">
						valid_end_date = #{validEndDate},
					</if>
					<if test=" null != buyMinMoney ">
						buy_min_money = #{buyMinMoney},
					</if>
					<if test=" null != buyMaxMoney ">
						buy_max_money = #{buyMaxMoney},
					</if>
					<if test=" null != buyTotalMoney ">
						buy_total_money = #{buyTotalMoney},
					</if>
					<if test=" null != showIndex ">
						show_index = #{showIndex},
					</if>
					<if test=" null != isHaveProgress ">
						is_have_progress = #{isHaveProgress},
					</if>
					<if test=" null != isRedemption ">
						is_redemption = #{isRedemption},
					</if>
					<if test=" null != redemptionTime ">
						redemption_time = #{redemptionTime},
					</if>
					<if test=" null != assignmentTime ">
						assignment_time = #{assignmentTime},
					</if>
					<if test=" null != moneyType ">
						money_type = #{moneyType},
					</if>
					<if test=" null != riskControlType ">
						risk_control_type = #{riskControlType},
					</if>
					<if test=" null != riskLevel ">
						risk_level = #{riskLevel},
					</if>
					<if test=" null != status ">
						status = #{status},
					</if>
					<if test=" null != creator and ''!= creator  ">
						creator = #{creator},
					</if>
					<if test=" null != createTime ">
						create_time = #{createTime},
					</if>
					<if test=" null != updater and ''!= updater  ">
						updater = #{updater},
					</if>
					<if test=" null != updateTime ">
						update_time = #{updateTime},
					</if>
					<if test=" null != remark and ''!= remark  ">
						remark = #{remark},
					</if>
					<if test=" null != productId and ''!= productId  ">
						product_id = #{productId},
					</if>
					<if test=" null != orgNumber and ''!= orgNumber  ">
						org_number = #{orgNumber},
					</if>
					<if test=" null != thirdProductId and ''!= thirdProductId  ">
						third_product_id = #{thirdProductId},
					</if>
					<if test=" null != isQuota ">
						is_quota = #{isQuota},
					</if>
					<if test=" null != detailOpenUrl and ''!= detailOpenUrl  ">
						detail_open_url = #{detailOpenUrl},
					</if>
					<if test=" null != detailOpenType ">
						detail_open_type = #{detailOpenType},
					</if>
					<if test=" null != buyIncreaseMoney ">
						buy_increase_money = #{buyIncreaseMoney},
					</if>
					<if test=" null != feeRatio ">
						fee_ratio = #{feeRatio},
					</if>
					<if test=" null != auditStatus ">
						audit_status = #{auditStatus},
					</if>
					<if test=" null != auditTime ">
						audit_time = #{auditTime},
					</if>
					<if test=" null != sourceWay ">
						source_way = #{sourceWay},
					</if>
			</trim>
		</set>
		<where>
			 id = #{id}
		</where>
	</update>
  
	<update id="updateByPrimaryKey" parameterType="com.linkwee.web.model.CimProduct" >
	    UPDATE tcim_product
	   <set>
			<trim suffixOverrides=",">
					<if test=" null != productName and ''!= productName  ">
						product_name = #{productName},
					</if>
					<if test=" null != productDesc and ''!= productDesc  ">
						product_desc = #{productDesc},
					</if>
					<if test=" null != productType ">
						product_type = #{productType},
					</if>
					<if test=" null != repaymentWay ">
						repayment_way = #{repaymentWay},
					</if>
					<if test=" null != saleStartTime ">
						sale_start_time = #{saleStartTime},
					</if>
					<if test=" null != saleEndTime ">
						sale_end_time = #{saleEndTime},
					</if>
					<if test=" null != isFlow ">
						is_flow = #{isFlow},
					</if>
					<if test=" null != flowMinRate ">
						flow_min_rate = #{flowMinRate},
					</if>
					<if test=" null != flowMaxRate ">
						flow_max_rate = #{flowMaxRate},
					</if>
					<if test=" null != addRate ">
						add_rate = #{addRate},
					</if>
					<if test=" null != platformCashback ">
						platform_cashback = #{platformCashback},
					</if>
					<if test=" null != isFixedDeadline ">
						is_fixed_deadline = #{isFixedDeadline},
					</if>
					<if test=" null != deadLineMinValue ">
						dead_line_min_value = #{deadLineMinValue},
					</if>
					<if test=" null != deadLineMaxValue ">
						dead_line_max_value = #{deadLineMaxValue},
					</if>
					<if test=" null != deadLineMinSelfDefined and ''!= deadLineMinSelfDefined  ">
						dead_line_min_self_defined = #{deadLineMinSelfDefined},
					</if>
					<if test=" null != deadLineMaxSelfDefined and ''!= deadLineMaxSelfDefined  ">
						dead_line_max_self_defined = #{deadLineMaxSelfDefined},
					</if>
					<if test=" null != isCollect ">
						is_collect = #{isCollect},
					</if>
					<if test=" null != collectBeginTime ">
						collect_begin_time = #{collectBeginTime},
					</if>
					<if test=" null != collectEndTime ">
						collect_end_time = #{collectEndTime},
					</if>
					<if test=" null != interestWay ">
						interest_way = #{interestWay},
					</if>
					<if test=" null != validBeginDate ">
						valid_begin_date = #{validBeginDate},
					</if>
					<if test=" null != validEndDate ">
						valid_end_date = #{validEndDate},
					</if>
					<if test=" null != buyMinMoney ">
						buy_min_money = #{buyMinMoney},
					</if>
					<if test=" null != buyMaxMoney ">
						buy_max_money = #{buyMaxMoney},
					</if>
					<if test=" null != buyTotalMoney ">
						buy_total_money = #{buyTotalMoney},
					</if>
					<if test=" null != showIndex ">
						show_index = #{showIndex},
					</if>
					<if test=" null != isHaveProgress ">
						is_have_progress = #{isHaveProgress},
					</if>
					<if test=" null != isRedemption ">
						is_redemption = #{isRedemption},
					</if>
					<if test=" null != redemptionTime ">
						redemption_time = #{redemptionTime},
					</if>
					<if test=" null != assignmentTime ">
						assignment_time = #{assignmentTime},
					</if>
					<if test=" null != moneyType ">
						money_type = #{moneyType},
					</if>
					<if test=" null != riskControlType ">
						risk_control_type = #{riskControlType},
					</if>
					<if test=" null != riskLevel ">
						risk_level = #{riskLevel},
					</if>
					<if test=" null != status ">
						status = #{status},
					</if>
					<if test=" null != creator and ''!= creator  ">
						creator = #{creator},
					</if>
					<if test=" null != createTime ">
						create_time = #{createTime},
					</if>
					<if test=" null != updater and ''!= updater  ">
						updater = #{updater},
					</if>
					<if test=" null != updateTime ">
						update_time = #{updateTime},
					</if>
					<if test=" null != remark and ''!= remark  ">
						remark = #{remark},
					</if>
					<if test=" null != productId and ''!= productId  ">
						product_id = #{productId},
					</if>
					<if test=" null != orgNumber and ''!= orgNumber  ">
						org_number = #{orgNumber},
					</if>
					<if test=" null != thirdProductId and ''!= thirdProductId  ">
						third_product_id = #{thirdProductId},
					</if>
					<if test=" null != isQuota ">
						is_quota = #{isQuota},
					</if>
					<if test=" null != detailOpenUrl and ''!= detailOpenUrl  ">
						detail_open_url = #{detailOpenUrl},
					</if>
					<if test=" null != detailOpenType ">
						detail_open_type = #{detailOpenType},
					</if>
					<if test=" null != buyIncreaseMoney ">
						buy_increase_money = #{buyIncreaseMoney},
					</if>
					<if test=" null != feeRatio ">
						fee_ratio = #{feeRatio},
					</if>
					<if test=" null != auditStatus ">
						audit_status = #{auditStatus},
					</if>
					<if test=" null != auditTime ">
						audit_time = #{auditTime},
					</if>
					<if test=" null != sourceWay ">
						source_way = #{sourceWay},
					</if>
			</trim>
		</set>
		<where>
			id = #{0}
		</where>
	  </update>
	  
    <sql id="Base_Column_List_ORG">
    <trim suffixOverrides=",">
	    	t.product_name,
	    	t.product_desc,
	    	t.product_type,
	    	t.repayment_way,
	    	t.sale_start_time,
	    	t.sale_end_time,
	    	t.is_flow,
	    	t.flow_min_rate,
	    	t.flow_max_rate,
	    	t.add_rate,
	    	t.is_fixed_deadline,
	    	t.dead_line_min_value,
	    	t.dead_line_max_value,
	    	t.dead_line_min_self_defined,
	    	t.dead_line_max_self_defined,
	    	t.is_collect,
	    	t.collect_begin_time,
	    	t.collect_end_time,
	    	t.interest_way,
	    	t.valid_begin_date,
	    	t.valid_end_date,
	    	t.buy_min_money,
	    	t.buy_max_money,
	    	t.buy_total_money,
	    	t.is_have_progress,
	    	t.is_redemption,
	    	t.redemption_time,
	    	t.assignment_time,
	    	t.money_type,
	    	t.risk_control_type,
	    	t.risk_level,
	    	t.status,
	    	t.creator,
	    	t.create_time,
	    	t.updater,
	    	t.update_time,
	    	t.remark,
	    	t.product_id,
	    	t.org_number,
	    	t.third_product_id,
	    	t.is_quota,
	    	t.buy_increase_money,
	    	t.audit_status,
	    	t.audit_time,
    </trim>
  </sql>
  
	<!-- 分页条件查询 -->
    <select id="selectBySearchInfo" parameterType="com.linkwee.web.request.ProductsListRequest" resultType="com.linkwee.web.response.ProductsListResponse">
        SELECT
        <include refid="Base_Column_List_ORG" />
        FROM tcim_product t,
        	tcim_org_info toi
        <where>
        t.org_number = #{query.orgNumber}
        and toi.org_number = t.org_number
        and toi.status = 1
        <if test="query.productName!=null and query.productName!='' ">  
               and t.product_name LIKE CONCAT('%','${query.productName}','%' )
         </if>
         <if test="query.status!=null and query.status != 99 ">  
               and t.status =#{query.status}
         </if>
         <if test="query.auditStatus!=null and query.auditStatus!=99 ">  
               and t.audit_status = #{query.auditStatus}
         </if>
         ORDER BY t.create_time DESC
        </where>
    </select>
    
    <!-- 查询产品详情 -->
    <select id="queryProductDetail"  parameterType="java.lang.String" resultType="com.linkwee.web.response.ProductDetailResponse">
        select 
	   		<include refid="Base_Column_List_ORG" />,
	   		tps.update_time AS updateTime,
	    	tps.buyed_total_money AS buyedTotalMoney,
			tps.buyed_total_people AS buyedTotalPeople
		FROM
			tcim_product t,
			tcim_product_statistics tps
		WHERE
			t.product_id =#{productId}
		AND	t.product_id = tps.product_id
	</select>
    
    <!-- 查询产品销售统计 -->
    <select id="selectSalesStatisticsByDatatables" parameterType="com.linkwee.web.request.ProductsSalesStatisticsRequest" resultType="com.linkwee.web.response.ProductsSalesStatisticsResponse">
        SELECT
			tp.product_id AS productId,
			tp.product_name AS productName,
			tp.product_type AS productType,
			tp.status AS STATUS,
			tp.is_fixed_deadline AS isFixedDeadline,
			tp.dead_line_min_value AS deadLineMinValue,
			tp.dead_line_max_value AS deadLineMaxValue,
			tp.dead_line_min_self_defined AS deadLineMinSelfDefined,
			tp.dead_line_max_self_defined AS deadLineMaxSelfDefined,
			tp.is_flow AS isFlow,
			tp.flow_min_rate AS flowMinRate,
			tp.flow_max_rate AS flowMaxRate,
			tp.audit_time AS auditPassTime,
			(
				SELECT
					sum(tofg.product_amount)
				FROM
					tcim_org_fee_gather tofg
				WHERE
					tofg.product_id = tp.product_id
			) AS saleroom,
			(
				SELECT
					sum(tf.yearpur_amount)
				FROM
					tcim_feedetail tf
				WHERE
					tf.product_id = tp.product_id
				AND tf.fee_type = '1001'		
			) AS saleroomYear,
			(
				SELECT
					sum(tofg.fee_amount)
				FROM
					tcim_org_fee_gather tofg
				WHERE
					tofg.product_id = tp.product_id
			) AS saleCost,
			(
				SELECT
					count(DISTINCT tofg.user_id)
				FROM
					tcim_org_fee_gather tofg
				WHERE
					tofg.product_id = tp.product_id
			) AS investNumberOfPeople
        FROM tcim_product tp,
        	tcim_org_info toi
        <where>
        tp.org_number = #{query.orgNumber}
        and toi.org_number = tp.org_number
        and toi.status = 1
        and tp.audit_status = 1
        <if test="query.productName!=null and query.productName!='' ">  
               and tp.product_name LIKE CONCAT('%','${query.productName}','%' )
         </if>
         <if test="query.status!=null and query.status != 99 ">  
               and tp.status =#{query.status}
         </if>
         <if test="query.auditStartTime!=null">  
               and tp.audit_time <![CDATA[ >= ]]> #{query.auditStartTime}
         </if>
         <if test="query.auditEndTime!=null">  
               and tp.audit_time <![CDATA[ <= ]]> #{query.auditEndTime}
         </if>
         <if test="query.order != null and query.order.size != 0">  
               <foreach collection="query.order" index="index" item="item"
                    open="order by" separator="," close=" ">
                    ${item.name} ${item.dir} 
                </foreach>
         </if> 
        </where>
    </select>
</mapper>